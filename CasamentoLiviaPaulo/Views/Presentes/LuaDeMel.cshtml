@model Presente
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

<link rel="stylesheet" href="~/css/Presentes.css" />

<style>
    .owl-item.active.center {
        margin: 0px -20px !important;
        z-index: 1;
        transform: scale(1.1);
    }
</style>

<h1 class="text-blossom text-rosa text-center font-78 mt-5 " style="line-height:1;">Lua de mel</h1>
<p class="text-azul text-center font-weight-bold">
    Querido convidado, saiba que o dinheiro será enviado para a conta dos noivos e saberemos que você também fez parte da nossa viagem. Muito obrigado pelo carinho!!
</p>

<div class="container-imagens">
    <div class="owl-carousel">

        <div class="img-detalhe"><img src="https://blog.viajarfazbem.com/wp-content/uploads/2019/07/original-7ee279772f1a68d44b4437f8fdec3f6f.jpg" style="height: 100%; width: initial;"/></div>
        <div class="img-detalhe"><img src="https://blog.cotacao.com.br/wp-content/uploads/2019/06/viagens-internacionais.jpg" style="height: 100%; width: initial;"/></div>
        <div class="img-detalhe"><img src="https://www.seguroviagem.org/wp-content/uploads/2017/03/sites-de-viagens.jpg" style="height: 100%; width: initial;"/></div>
        <div class="img-detalhe"><img src="https://i2.wp.com/www.transamerica.com.br/blog/wp-content/uploads/2018/11/image2-4.jpg?resize=500%2C315&ssl=1" style="height: 100%; width: initial;"/></div>
        <div class="img-detalhe"><img src="https://www.dicasdeviagem.com/wp-content/uploads/2016/05/cinco-viagens-de-casal-pelo-brasil.jpg" style="height: 100%; width: initial;"/></div>

    </div>
</div>

<div class="my-3 text-center">
    <span class="preco-detalhe">R$ @ViewData["valor"]</span>
    <div class="w-100"></div>
    <button class="btn-dar-presente mt-4 mb-3" data-toggle="modal" data-target="#exampleModal">COMPRAR PRESENTE</button>
    <div class="w-100"></div>
    <p class="text-azul text-center font-weight-bold px-4">
        Informamos que as compras realizadas em nosso site será depositada em nossa conta para a compra do presente, portanto, porfavor, nos presentei comprando por aqui.
    </p>
    <button type="button" onclick="history.back()" class="btn btn-secondary mt-2">Voltar</button>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body row px-5">
                <span class="col-12 text-rosa text-blossom h3">Informe seu nome:</span>
                <input class="col-12 form-control mt-1" id="txtNome" />
                <span class="col-12 text-center font-weight-bold h4 mt-3">Detalhes da compra:</span>
                <div class="row">
                    <div class="col-12">
                        <span class="font-weight-bold">Produto: </span><span>Lua de mel</span>
                    </div>
                    <div class="col-12">
                        <span class="font-weight-bold">Valor: </span><span>R$ @ViewData["valor"]</span>
                    </div>
                    <hr class="hr-azul" />
                    <div class="col-12">
                        <p class="text-azul text-center font-weight-bold px-4">
                            Informamos que a compra realizada em nosso site será depositada em nossa conta para a compra do presente.
                        </p>
                    </div>
                </div>
                <div class="col-12 text-center pt-3">
                    <button class="btn btn-azul" onclick="pagar()">Pagar</button>
                    <script src="https://www.mercadopago.com.br/integrations/v1/web-payment-checkout.js"
                            data-preference-id="@ViewData["preferences"]">
                    </script>
                </div>
            </div>

        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".mercadopago-button").attr("disabled", true);

        var owl = $('.owl-carousel');
        owl.owlCarousel({
            margin: 10,
            loop: true,
            center: true,
            autoWidth: true,
            responsive: {
                0: {
                    items: 1,
                    margin: 5
                },
                600: {
                    items: 3,
                    margin: 5
                },
                1000: {
                    items: 5,
                    margin: 5
                }
            }
        });
    });

    $("#txtNome").on("keyup",function () {
        if ($("#txtNome").val().length >= 4) {
            $(".mercadopago-button").attr("disabled", false);
        } else {
            $(".mercadopago-button").attr("disabled", true);
        }
    });

    function pagar() {
        if ($("#txtNome").val().length >= 4) {
            $(".mercadopago-button").trigger("click");
        } else {
            Swal.fire(
                'Atenção',
                'Porfavor informe seu nome!',
                'warning'
            );
        }
    }

</script>